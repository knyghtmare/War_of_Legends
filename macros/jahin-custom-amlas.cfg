#textdomain wesnoth-War_of_Legends

#ifndef MULTIPLAYER

#define EFFECT_INCREASE_MAX_EXPERIENCE AMOUNT
    [effect]
        apply_to=max_experience
        increase={AMOUNT}
    [/effect]
#enddef

#define EFFECT_FULLHEAL
    [effect]
        apply_to=hitpoints
        heal_full=yes
    [/effect]
    [effect]
        apply_to=status
        remove=poisoned
    [/effect]
    [effect]
        apply_to=status
        remove=slowed
    [/effect]
#enddef

#define AMLA_ENDURANCE_I
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_HP_I
        description= _ "Endurance I: +5 hitpoints <Max XP +20%>"
        image="icons/steel_armor.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=hitpoints
            increase=5
            increase_total=5
        [/effect]
    [/advancement]
#enddef

#define AMLA_ENDURANCE_II
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_HP_II
        require_amla=HOI_jahin_amla_HP_I
        description= _ "Endurance II: +7 hitpoints <Max XP +20%>"
        image="icons/steel_armor.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=hitpoints
            increase=5
            increase_total=5
        [/effect]
    [/advancement]
#enddef

#define AMLA_ENDURANCE_III
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_HP_III
        require_amla=HOI_jahin_amla_HP_II
        description= _ "Endurance III: +10 hitpoints <Max XP +20%>"
        image="icons/cuirass_muscled.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=hitpoints
            increase=5
            increase_total=5
        [/effect]
    [/advancement]
#enddef

#define AMLA_STRENGTH_I
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_strength_I
        description= _ "Strength: +1 melee damage <Max XP +20%>"
        image="attacks/longsword.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=attack
            ranged=melee
            increase_damage=1
        [/effect]
    [/advancement]
#enddef

#define AMLA_STRENGTH_II
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_strength_II
        description= _ "Strength: +1 melee damage <Max XP +20%>"
        require_amla=HOI_jahin_amla_strength_I
        image="attacks/greatsword-human.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=attack
            ranged=melee
            increase_damage=1
        [/effect]
    [/advancement]
#enddef

#define AMLA_SUPERIOR_LEADERSHIP_I
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_leadership_I
        require_amla=HOI_jahin_amla_HP_I, HOI_jahin_amla_strength_I
        description= _ "Gain ability: Leadership Level 4 <Max XP +100%>"
        image="attacks/sword-holy.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 100%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=remove_ability
            [abilities]
                {ABILITY_LEADERSHIP_LEVEL_3}
            [/abilities]
        [/effect]
        [effect]
            apply_to=new_ability
            [abilities]
                {ABILITY_LEADERSHIP_LEVEL_4}
            [/abilities]
        [/effect]
    [/advancement]
#enddef

#define AMLA_SUPERIOR_LEADERSHIP_II
    [advancement]
        strict_amla=yes
        max_times=1
        id=HOI_jahin_amla_leadership_II
        require_amla=HOI_jahin_amla_leadership_I
        description= _ "Gain ability: Leadership Level 5 <Max XP +200%>"
        {EFFECT_INCREASE_MAX_EXPERIENCE 200%}
        {EFFECT_FULLHEAL}
        image="attacks/lightbeam.png"
        [effect]
            apply_to=remove_ability
            [abilities]
                {ABILITY_LEADERSHIP_LEVEL_4}
            [/abilities]
        [/effect]
        [effect]
            apply_to=new_ability
            [abilities]
                {ABILITY_LEADERSHIP_LEVEL_5}
            [/abilities]
        [/effect]
    [/advancement]
#enddef

#define AMLA_ATTACK_SHIELD

    [advancement]
        id=amla_attack_shield
        max_times=1
        description= _ "New attack: shield (melee/impact 12â€“1, slows) <Max XP +20%>"
        image="icons/shield_steel.png"
        {EFFECT_INCREASE_MAX_EXPERIENCE 20%}
        {EFFECT_FULLHEAL}
        [effect]
            apply_to=new_attack
            name=shield
            icon="icons/shield_steel.png"
            description= _ "shield"
            type=impact
            range=melee
            damage=12
            number=1
            [specials]
                {WEAPON_SPECIAL_SLOW}
            [/specials]
        [/effect]
    [/advancement]

#enddef

#endif

# Jahin gets custom AMLAs for TLB
# Each AMLA costs 120 XP except the default one

#ifdef CAMPAIGN_THE_LEGEND_BEGINS

#define JAHIN_CUSTOM_AMLAS
    {AMLA_STRENGTH_I}
    {AMLA_STRENGTH_II}
    {AMLA_ENDURANCE_I}
    {AMLA_ENDURANCE_II}
    {AMLA_ENDURANCE_III}
    {AMLA_SUPERIOR_LEADERSHIP_I}
#    {AMLA_SUPERIOR_LEADERSHIP_II}
    {AMLA_ATTACK_SHIELD}
#enddef

#endif 